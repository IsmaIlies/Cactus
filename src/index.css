@keyframes fadeInSlide {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fadeInSlide 0.5s ease;
}
/* stylelint-disable */
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  @apply font-sans text-gray-800 bg-sand-50;
  /* Bloque le scroll global, le scroll reste géré par les conteneurs internes (.scroll-beauty) */
  overflow: hidden;
  height: 100vh;
}

html { overflow: hidden; height: 100vh; }

#root { height: 100vh; overflow: hidden; }

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  box-shadow: 0 0 0px 1000px rgba(17, 24, 39, 0.85) inset;
  -webkit-text-fill-color: #f8fafc;
  transition: background-color 30000s ease-in-out 0s;
  caret-color: #f8fafc;
}

input:-moz-ui-filled,
textarea:-moz-ui-filled,
select:-moz-ui-filled {
  box-shadow: 0 0 0px 1000px rgba(17, 24, 39, 0.85) inset;
  color: #f8fafc;
}

@layer components {
  .btn-primary {
    @apply bg-cactus-600 text-white rounded-md px-4 py-2 font-medium transition-colors 
           hover:bg-cactus-700 focus:outline-none focus:ring-2 focus:ring-cactus-500 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-white text-gray-800 border border-gray-300 rounded-md px-4 py-2 font-medium transition-colors
           hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-cactus-500 focus:ring-offset-2;
  }

  .input-field {
    @apply w-full rounded-md border border-gray-300 px-4 py-2 text-gray-800 placeholder-gray-400
           focus:border-cactus-500 focus:outline-none focus:ring-2 focus:ring-cactus-500;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-100 p-4 transition-all hover:shadow-md;
  }

  .quick-action {
    @apply flex flex-col items-center justify-center p-3 bg-opacity-10 rounded-md transition-all
           hover:bg-opacity-20 cursor-pointer;
  }
}

@layer utilities {
  /* Parallaxe lente pour headers */
  @keyframes headerParallax {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(0,-12px,0) scale(1.01); }
    100% { transform: translate3d(0,0,0) scale(1); }
  }
  .animate-parallax-slow { animation: headerParallax 18s ease-in-out infinite; }

  /* Glow latéral dynamique sur hover (items programme) */
  .hover-glow-item { position:relative; }
  .hover-glow-item:before { content:""; position:absolute; inset:0; border-radius:inherit; opacity:0; pointer-events:none; background:linear-gradient(90deg,rgba(16,185,129,0) 0%,rgba(16,185,129,0.35) 50%,rgba(16,185,129,0) 100%); filter:blur(8px); transition:opacity .4s ease; }
  .hover-glow-item:hover:before { opacity:1; }
  .hover-glow-item:hover { transform:translateX(2px); }
  .hover-glow-item { transition:transform .35s cubic-bezier(.22,.99,.39,1.01); }
  /* Utilitaire pour désactiver le scroll de la page quand nécessaire (ex : certaines vues plein écran) */
  .no-page-scroll { overflow: hidden; height: 100vh; }

  /* Scrollbar élégante réutilisable */
  .scroll-beauty { overflow-y: auto; overscroll-behavior: contain; scrollbar-gutter: stable; }
  .scroll-beauty::-webkit-scrollbar { width: 10px; }
  .scroll-beauty::-webkit-scrollbar-track { background: transparent; }
  .scroll-beauty::-webkit-scrollbar-thumb { background: linear-gradient(180deg,#068060,#046048); border-radius: 24px; border: 2px solid #ffffff; }
  .scroll-beauty::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg,#079d77,#068060); }
  .dark .scroll-beauty::-webkit-scrollbar-thumb { border-color: #111827; }
  /* Firefox */
  .scroll-beauty { scrollbar-width: thin; scrollbar-color: #068060 transparent; }

  /* Effet fondu haut/bas (ajouter position:relative au parent) */
  .scroll-fade { mask-image: linear-gradient(to bottom, rgba(0,0,0,0), #000 16px, #000 calc(100% - 16px), rgba(0,0,0,0)); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0), #000 16px, #000 calc(100% - 16px), rgba(0,0,0,0)); }
  /* Poker specific */
  .card-3d { perspective: 800px; }
  .card-inner { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.6s ease; }
  .card-flipped .card-inner { transform: rotateY(180deg); }
  .card-face { position:absolute; inset:0; backface-visibility: hidden; border-radius: 0.5rem; display:flex; align-items:center; justify-content:center; font-weight:600; }
  .card-back { background: linear-gradient(135deg,#064235,#0a5c4a); color: rgba(255,255,255,0.15); font-size: 1.8rem; }
  .card-front { background: linear-gradient(135deg,#e3fff5,#c3f5e4); color:#064235; transform: rotateY(180deg); box-shadow:0 4px 10px -2px rgba(0,0,0,0.5),0 0 0 1px #0d5c4a inset; }
  .chip-stack { position:relative; width:42px; height:42px; }
  .chip { position:absolute; left:0; right:0; margin:auto; width:42px; height:42px; border-radius:50%; background:radial-gradient(circle at 30% 30%,#ffe7a1,#d09315); box-shadow:0 2px 4px rgba(0,0,0,0.6); border:2px solid #553300; }
  .acting-glow { box-shadow:0 0 0 2px rgba(16,185,129,0.6), 0 0 12px 4px rgba(16,185,129,0.4), 0 0 32px 8px rgba(16,185,129,0.15); }
  .timer-ring { position:relative; }
  .timer-ring:before { content:""; position:absolute; inset:-4px; border-radius:50%; border:3px solid rgba(16,185,129,0.4); animation: rotateRing 12s linear infinite; }
  @keyframes rotateRing { from { transform:rotate(0deg);} to { transform:rotate(360deg);} }
  @keyframes ping-heart {
    0%,
    100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.4);
      opacity: 0.6;
    }
  }

  .animate-ping-heart {
    animation: ping-heart 1.2s ease-in-out infinite;
  }

  .user-message-white * {
    color: #fff !important;
  }

  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }
}
