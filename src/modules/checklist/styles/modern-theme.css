/* Modern dark-green theme for Checklist UI */

.cactus-hours-theme.checklist-modern {
  /* Deep dark gradient background, subtle texture */
  background: radial-gradient(1200px 800px at 10% 0%, rgba(12, 88, 76, 0.18), transparent 60%),
              radial-gradient(900px 700px at 90% 100%, rgba(16, 79, 129, 0.12), transparent 55%),
              linear-gradient(180deg, #042119 0%, #071a16 50%, #07130f 100%);
}

.cactus-hours-theme.checklist-modern .page-shell {
  padding-bottom: 24px;
}

/* Cards and header */
.cactus-hours-theme.checklist-modern .page-header {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.cactus-hours-theme.checklist-modern .page-title {
  color: #e7f5ef;
}
.cactus-hours-theme.checklist-modern .status-line span { color: #b9e1d5; }

/* Inputs baseline */
.cactus-hours-theme.checklist-modern .input,
.cactus-hours-theme.checklist-modern .select {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.12);
  color: #e8fff7;
}
.cactus-hours-theme.checklist-modern .input:focus,
.cactus-hours-theme.checklist-modern .select:focus {
  outline: none;
  border-color: rgba(34,197,94,0.6);
  box-shadow: 0 0 0 2px rgba(34,197,94,0.25);
}

/* Table wrapper */
.cactus-hours-theme.checklist-modern .table-container {
  margin-top: 12px;
}
.cactus-hours-theme.checklist-modern .table-scroll {
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
  overflow: hidden;
  background: rgba(2, 8, 7, 0.35);
  box-shadow: 0 18px 60px -30px rgba(0,0,0,0.5);
}

/* Table */
.cactus-hours-theme.checklist-modern .checklist-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}
.cactus-hours-theme.checklist-modern .checklist-table thead th {
  position: sticky; top: 0;
  background: linear-gradient(180deg, rgba(6, 25, 21, 0.9), rgba(6, 25, 21, 0.75));
  backdrop-filter: blur(6px);
  color: #d6f5eb;
  font-weight: 600;
  letter-spacing: 0.02em;
  text-transform: none;
  z-index: 2; /* above week sticky bar */
}
.cactus-hours-theme.checklist-modern .checklist-table th,
.cactus-hours-theme.checklist-modern .checklist-table td {
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

/* Rows */
.cactus-hours-theme.checklist-modern .checklist-row--today {
  background: linear-gradient(90deg, rgba(34,197,94,0.08), rgba(34,197,94,0.02));
}
.cactus-hours-theme.checklist-modern .checklist-table tbody tr:hover {
  background-color: rgba(255,255,255,0.04);
}

/* Weekly sticky bar */
.cactus-hours-theme.checklist-modern .checklist-table .week-sticky td {
  padding: 0;
  border-bottom: 0;
}
.cactus-hours-theme.checklist-modern .week-bar {
  position: sticky; top: 42px; /* below table header */
  z-index: 1;
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px;
  padding: 8px 14px;
  background: linear-gradient(180deg, rgba(4,20,16,0.9), rgba(4,20,16,0.75));
  border-top: 1px solid rgba(255,255,255,0.06);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(6px);
  color: #d6f5eb;
}
.cactus-hours-theme.checklist-modern .week-bar:hover { background: linear-gradient(180deg, rgba(6,25,21,0.95), rgba(6,25,21,0.78)); }
.cactus-hours-theme.checklist-modern .week-bar__title { font-weight: 700; letter-spacing: .02em; }
.cactus-hours-theme.checklist-modern .week-bar__total { font-weight: 800; color: #8df7c5; }

/* Day cell */
.cactus-hours-theme.checklist-modern .day-col { width: 260px; }
.cactus-hours-theme.checklist-modern .day-field__weekday { color: #a9e2d2; }
.cactus-hours-theme.checklist-modern .day-field__status--today {
  color: #8ef0c7;
  background: rgba(16, 185, 129, 0.12);
  border: 1px solid rgba(16,185,129,0.25);
  padding: 2px 8px; border-radius: 999px; font-size: 11px; font-weight: 600;
}

/* Time inputs (keep green background for readability theme) */
.cactus-hours-theme.checklist-modern .input--time {
  text-align: center;
  border-radius: 10px;
  background: rgba(16,185,129,0.18); /* soft emerald */
  color: #ffffff; /* white text for readability */
  border: 1px solid rgba(16,185,129,0.35);
}
.cactus-hours-theme.checklist-modern .input--time:focus {
  border-color: #16a34a; /* emerald-600 */
  box-shadow: 0 0 0 2px rgba(22,163,74,0.25);
}
.cactus-hours-theme.checklist-modern .input--time:disabled {
  background: rgba(16,185,129,0.18);
  color: #ffffff;
  border-color: rgba(16,185,129,0.25);
}
.cactus-hours-theme.checklist-modern .session-empty { color: rgba(255,255,255,0.5); }

/* Toggle switch styling for "Activer" */
.cactus-hours-theme.checklist-modern .session-toggle {
  display: inline-flex; align-items: center; gap: 8px; font-weight: 600; color: #d7fff3;
}
.cactus-hours-theme.checklist-modern .session-toggle input[type="checkbox"] {
  appearance: none; -webkit-appearance: none; width: 40px; height: 22px; border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.2); position: relative; background: rgba(255,255,255,0.12);
  outline: none; cursor: pointer; transition: all .25s ease;
}
.cactus-hours-theme.checklist-modern .session-toggle input[type="checkbox"]::after {
  content: ""; position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; border-radius: 50%; background: white; transition: transform .25s ease;
}
.cactus-hours-theme.checklist-modern .session-toggle input[type="checkbox"]:checked {
  background: linear-gradient(180deg, #10b981, #059669);
  border-color: rgba(16,185,129,0.7);
}
.cactus-hours-theme.checklist-modern .session-toggle input[type="checkbox"]:checked::after {
  transform: translateX(18px);
}
.cactus-hours-theme.checklist-modern .session-times { gap: 10px; }

/* Selects */
.cactus-hours-theme.checklist-modern .select--operation,
.cactus-hours-theme.checklist-modern .select--supervisor {
  border-radius: 10px;
}

/* Supervisor column: green background + dark text for readability */
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor {
  /* glassy green select */
  -webkit-appearance: none; appearance: none;
  background: linear-gradient(180deg, rgba(16,185,129,0.22), rgba(16,185,129,0.14));
  color: #ffffff;
  border: 1px solid rgba(16,185,129,0.45);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 2px 8px rgba(0,0,0,0.25);
  padding: 8px 36px 8px 12px;
  height: 36px;
  border-radius: 10px;
  min-width: 240px; /* enlarge so full names are visible */
  width: 100%;
  max-width: 100%;
  transition: border-color .2s ease, box-shadow .2s ease, filter .2s ease;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat: no-repeat; background-position: right 10px center; background-size: 16px;
}
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor:focus {
  border-color: #16a34a; /* emerald-600 */
  box-shadow: 0 0 0 2px rgba(22,163,74,0.35);
}
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor:hover { filter: brightness(1.04); }
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor option { color: #ffffff; }
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor:disabled {
  background: rgba(16,185,129,0.18);
  color: #ffffff;
  border-color: rgba(16,185,129,0.25);
}
.cactus-hours-theme.checklist-modern .supervisor-col span {
  color: #ffffff;
  background: rgba(16,185,129,0.28);
  display: inline-block;
  padding: 4px 10px;
  border-radius: 10px;
  border: 1px solid rgba(16,185,129,0.35);
}

/* Make supervisor column itself a bit wider */
.cactus-hours-theme.checklist-modern .col-supervisor { width: 260px; }

/* Operation column: keep green background + dark text */
.cactus-hours-theme.checklist-modern .operation-cell .select--operation {
  -webkit-appearance: none; appearance: none;
  background: linear-gradient(180deg, rgba(16,185,129,0.22), rgba(16,185,129,0.14));
  color: #ffffff;
  border: 1px solid rgba(16,185,129,0.45);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 2px 8px rgba(0,0,0,0.25);
  padding: 8px 36px 8px 12px;
  height: 36px;
  border-radius: 10px;
  min-width: 160px;
  width: 100%;
  transition: border-color .2s ease, box-shadow .2s ease, filter .2s ease;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat: no-repeat; background-position: right 10px center; background-size: 16px;
}
.cactus-hours-theme.checklist-modern .operation-cell .select--operation:focus {
  border-color: #16a34a;
  box-shadow: 0 0 0 2px rgba(22,163,74,0.35);
}
.cactus-hours-theme.checklist-modern .operation-cell .select--operation:hover { filter: brightness(1.04); }
.cactus-hours-theme.checklist-modern .operation-cell .select--operation option { color: #ffffff; }
.cactus-hours-theme.checklist-modern .operation-cell .select--operation:disabled {
  background: rgba(16,185,129,0.18);
  color: #ffffff;
  border-color: rgba(16,185,129,0.25);
}

/* Best-effort styling for native dropdown list */
.cactus-hours-theme.checklist-modern .operation-cell .select--operation option,
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor option {
  background-color: #0b3328; /* darker backdrop for white text */
  color: #ffffff;
}
.cactus-hours-theme.checklist-modern .operation-cell .select--operation option:checked,
.cactus-hours-theme.checklist-modern .supervisor-col .select--supervisor option:checked {
  background-color: #115e49;
  color: #ffffff;
}

/* Hide default arrow for some legacy browsers */
.cactus-hours-theme.checklist-modern .select--operation::-ms-expand,
.cactus-hours-theme.checklist-modern .select--supervisor::-ms-expand { display: none; }

/* Total column */
.cactus-hours-theme.checklist-modern .total-col--value {
  font-weight: 700;
  color: #8df7c5;
}

/* Buttons */
.cactus-hours-theme.checklist-modern .button {
  border-radius: 12px;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.cactus-hours-theme.checklist-modern .button:hover { transform: translateY(-1px); filter: brightness(1.05); }
.cactus-hours-theme.checklist-modern .button:active { transform: translateY(0); filter: brightness(0.98); }
.cactus-hours-theme.checklist-modern .button:focus-visible { outline: none; box-shadow: 0 0 0 2px rgba(34,197,94,0.35); }
.cactus-hours-theme.checklist-modern .table-actions__primary { background: #0ea5e9; border-color: rgba(14,165,233,0.4); }
.cactus-hours-theme.checklist-modern .table-actions__secondary { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.18); }
.cactus-hours-theme.checklist-modern .table-actions__danger { background: #ef4444; border-color: rgba(239,68,68,0.5); }
.cactus-hours-theme.checklist-modern .table-actions__primary:hover { filter: brightness(1.05); }
.cactus-hours-theme.checklist-modern .table-actions__danger:hover { filter: brightness(1.05); }

/* Icon: trash for delete buttons */
.cactus-hours-theme.checklist-modern .table-actions__danger::before,
.cactus-hours-theme.checklist-modern .modal-actions .table-actions__danger::before {
  content: "";
  display: inline-block;
  width: 14px; height: 14px; margin-right: 8px;
  background-repeat: no-repeat; background-size: 14px 14px;
  /* Trash can icon (white stroke) */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='3 6 5 6 21 6'/><path d='M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6'/><path d='M10 11v6'/><path d='M14 11v6'/><path d='M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2'/></svg>");
}

/* Actions layout */
.cactus-hours-theme.checklist-modern .table-actions {
  display: inline-flex;
  gap: 8px;
}
.cactus-hours-theme.checklist-modern .table-actions .button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  height: 36px;
  padding: 0 12px;
}
/* Make actions column a bit wider to avoid wrapping */
.cactus-hours-theme.checklist-modern .col-actions { width: 240px; }

/* Re-enable 'Ajouter' and add a plus icon on the left */
.cactus-hours-theme.checklist-modern .table-actions .table-actions__secondary {
  display: inline-flex !important;
}
.cactus-hours-theme.checklist-modern .table-actions__secondary::before {
  content: "";
  display: inline-block;
  width: 14px; height: 14px; margin-right: 8px;
  background-repeat: no-repeat; background-size: 14px 14px;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><line x1='12' y1='5' x2='12' y2='19'/><line x1='5' y1='12' x2='19' y2='12'/></svg>");
}

/* Positive emphasis on submit */
.cactus-hours-theme.checklist-modern .table-actions__primary:hover {
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 6px 14px rgba(14,165,233,0.35);
}

/* Tooltip for submit button */
.cactus-hours-theme.checklist-modern .has-tooltip {
  position: relative;
}
.cactus-hours-theme.checklist-modern .has-tooltip::after {
  content: attr(data-tooltip);
  position: absolute; left: 50%; bottom: calc(100% + 8px);
  transform: translateX(-50%);
  white-space: nowrap;
  background: rgba(6,25,21,0.95);
  color: #e7f5ef;
  border: 1px solid rgba(16,185,129,0.35);
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 12px;
  opacity: 0; pointer-events: none;
  transition: opacity .15s ease, transform .15s ease;
}
.cactus-hours-theme.checklist-modern .has-tooltip:hover::after,
.cactus-hours-theme.checklist-modern .has-tooltip:focus-visible::after {
  opacity: 1;
  transform: translateX(-50%) translateY(-2px);
}

/* Footer cards */
.cactus-hours-theme.checklist-modern .card { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); }
.cactus-hours-theme.checklist-modern .hint-card { color: #c6ffe7; }
.cactus-hours-theme.checklist-modern .total-highlight { color: #7ef2bd; }

/* Modal overlay + card (green theme) */
.cactus-hours-theme.checklist-modern .modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  animation: checklist-fade-in .15s ease;
}
.cactus-hours-theme.checklist-modern .modal-card {
  background: linear-gradient(180deg, rgba(6,25,21,0.95), rgba(6,25,21,0.9));
  border: 1px solid rgba(16,185,129,0.35);
  border-radius: 12px;
  padding: 20px;
  width: clamp(320px, 90vw, 460px);
  color: #e7f5ef;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}
.cactus-hours-theme.checklist-modern .modal-title { margin: 0 0 10px 0; font-weight: 700; color: #d6f5eb; }
.cactus-hours-theme.checklist-modern .modal-text { margin: 0 0 16px 0; color: #b9e1d5; }
.cactus-hours-theme.checklist-modern .modal-actions { display: flex; gap: 10px; justify-content: flex-end; }
.cactus-hours-theme.checklist-modern .button--ghost { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #e7f5ef; }
.cactus-hours-theme.checklist-modern .button--ghost:hover { background: rgba(255,255,255,0.06); }

/* Snackbar */
.cactus-hours-theme.checklist-modern .snackbar {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 51;
  background: rgba(6,25,21,0.95);
  color: #e7f5ef;
  border: 1px solid rgba(16,185,129,0.35);
  border-radius: 999px;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  animation: checklist-slide-up .2s ease;
}
.cactus-hours-theme.checklist-modern .snackbar__action { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #e7f5ef; }
.cactus-hours-theme.checklist-modern .snackbar__action:hover { background: rgba(255,255,255,0.06); }

/* Icon: undo for snackbar action */
.cactus-hours-theme.checklist-modern .snackbar__action::before {
  content: "";
  display: inline-block;
  width: 14px; height: 14px; margin-right: 8px;
  background-repeat: no-repeat; background-size: 14px 14px;
  /* Undo arrow icon */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23e7f5ef' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M9 14L4 9l5-5'/><path d='M20 20a9 9 0 0 0-9-9H4'/></svg>");
}

/* Animations */
@keyframes checklist-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes checklist-slide-up {
  from { transform: translate(-50%, 10px); opacity: 0; }
  to { transform: translate(-50%, 0); opacity: 1; }
}
